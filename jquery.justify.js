(function($){var calcLetterSpacing=function(element,width){var letterSpacing=0;var copy=$(element).clone();copy.hide();$(element).before(copy);copy.css({letterSpacing:0,float:'left',width:'auto'});if(jQuery.browser.msie&&jQuery.browser.version>=8){copy.css({display:'table-cell'});}
var innerWidth=copy.innerWidth();var textLength=jQuery.trim(copy.text()).length;letterSpacing=(width-innerWidth)/(textLength-1);copy.remove();letterSpacing=Math.floor(letterSpacing);return letterSpacing;}
var log=function(msg){if(typeof console!='undefined'){console.log(msg);}};jQuery.fn.justify=function(){var maxWidth=0;this.each(function(){if(maxWidth<$(this).innerWidth()){maxWidth=$(this).innerWidth();}});this.each(function(){var letterSpacing=0;if(jQuery.trim($(this).text()).length<2){return;}
letterSpacing=calcLetterSpacing(this,maxWidth);if($.browser.msie&&$.browser.version<8){$(this).text(jQuery.trim($(this).text()));}else{var text=$(this).text();$(this).text(text.slice(0,text.length-1));var lastText=$('<span>').text(text.slice(text.length-1));$(this).append(lastText);$(lastText).css({letterSpacing:0,display:'inline',padding:0});}
$(this).css({letterSpacing:letterSpacing+'px'});$(this).css({marginLeft :(letterSpacing / 4) + 'px'});});};}(jQuery));